(function(){"use strict";var e={3223:function(e,t,n){var l=n(9242),a=n(3396);const o={class:"container"},s=(0,a._)("div",{class:"row"},[(0,a._)("h1",{class:"col text-center"},"All will be one")],-1),r={class:"nav justify-content-center"},i={class:"nav-item"},c={class:"nav-item"};function u(e,t,n,l,u,m){const d=(0,a.up)("router-link"),p=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",o,[s,(0,a._)("ul",r,[(0,a._)("li",i,[(0,a.Wm)(d,{class:"nav-link",to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("Comtes")])),_:1})]),(0,a._)("li",c,[(0,a.Wm)(d,{class:"nav-link",to:"/help"},{default:(0,a.w5)((()=>[(0,a.Uk)("Aide")])),_:1})])]),(0,a.Wm)(p,{class:"row"})])}var m={name:"App",components:{}},d=n(89);const p=(0,d.Z)(m,[["render",u]]);var b=p,h=n(7139);const f={class:"row"},_=(0,a._)("h2",{class:"col"},"Ajouter un compte",-1),v={class:"row"},g=(0,a._)("label",{class:"form-label",for:"flibelle"},"libelle",-1),w=(0,a._)("br",null,null,-1),L=(0,a._)("label",{class:"form-label",for:"fdescription"},"description",-1),I=(0,a._)("br",null,null,-1),k=["disabled"],y={class:"row"},S={class:"table table-stripedtable table-striped"},D=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"libelle"),(0,a._)("th",null,"description"),(0,a._)("th",null,"Date")])],-1);function M(e,t,n,o,s,r){const i=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",f,[_,(0,a._)("div",v,[g,(0,a.wy)((0,a._)("input",{class:"form-control",id:"flibelle",placeholder:"Libelle de votre compte","onUpdate:modelValue":t[0]||(t[0]=e=>s.libelle=e)},null,512),[[l.nr,s.libelle]]),w,L,(0,a.wy)((0,a._)("textarea",{class:"form-control",id:"fdescription",placeholder:"Description de votre compte","onUpdate:modelValue":t[1]||(t[1]=e=>s.description=e)},null,512),[[l.nr,s.description]]),I,(0,a._)("button",{type:"button",class:"btn btn-primary",disabled:r.formValidator,onClick:t[2]||(t[2]=e=>r.createAccount())},"Ajouter le compte",8,k)])]),(0,a._)("div",y,[(0,a._)("table",S,[D,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.accountList,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,[(0,a.Wm)(i,{to:"/compte/"+e.id},{default:(0,a.w5)((()=>[(0,a.Uk)((0,h.zw)(e.libelle),1)])),_:2},1032,["to"])]),(0,a._)("td",null,(0,h.zw)(e.description),1),(0,a._)("td",null,(0,h.zw)(e.createdAt),1)])))),128))])])])],64)}n(7658);var O=n(3029),z={name:"comptePartage",data(){return{accountList:[],libelle:"",description:""}},methods:{createAccount(){this.accountList.push({id:(0,O.Z)(),libelle:this.libelle,description:this.description,montant:0,createdAt:(new Date).toLocaleString("fr-FR",{timeZone:"UTC"})}),this.resetForm(),this.saveInLocalStorage()},resetForm(){this.description="",this.libelle=""},saveInLocalStorage(){localStorage.setItem("accountList",JSON.stringify(this.accountList))}},computed:{formValidator(){return!this.libelle||!this.description}},mounted(){if(localStorage.getItem("accountList"))try{this.accountList=JSON.parse(localStorage.getItem("accountList"))}catch(e){console.log(e)}}};const U=(0,d.Z)(z,[["render",M]]);var j=U;const C={class:"nav justify-content-center"},A={class:"nav-item"},N={class:"nav-item"},H=(0,a._)("h2",{class:"row"},"Ajouter un membre",-1),J={class:"row"},Y=(0,a._)("label",{class:"",for:"fname"},"pseudo",-1),V=(0,a._)("h2",null,"Membres du compte",-1),W={class:"table table-striped"},Z=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("td",null,"pseudo"),(0,a._)("td",null,"montant (en €)"),(0,a._)("td",null,"supprimer")])],-1),F=["onClick"];function x(e,t,n,o,s,r){const i=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("ul",C,[(0,a._)("li",A,[(0,a.Wm)(i,{class:"nav-link",to:"/depense/"+s.accountId},{default:(0,a.w5)((()=>[(0,a.Uk)("depense")])),_:1},8,["to"])]),(0,a._)("li",N,[(0,a.Wm)(i,{class:"nav-link",to:"/compte/"+s.accountId},{default:(0,a.w5)((()=>[(0,a.Uk)("balance")])),_:1},8,["to"])])]),H,(0,a._)("div",J,[Y,(0,a.wy)((0,a._)("input",{class:"",onKeypress:t[0]||(t[0]=(0,l.D2)((e=>r.addMember()),["enter"])),type:"text",id:"fname","onUpdate:modelValue":t[1]||(t[1]=e=>s.name=e),placeholder:"Veuillez saissir votre pseudo"},null,544),[[l.nr,s.name]])]),(0,a._)("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=e=>r.addMember())},"Ajouter utilisateur"),V,(0,a._)("table",W,[Z,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.currentAccountMembersList,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,(0,h.zw)(e.name),1),(0,a._)("td",null,(0,h.zw)(e.montant)+"€",1),(0,a._)("td",null,[r.isDeletable(e.id)?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t=>r.deleteMember(e.id),class:"btn btn-danger"},"supprimer",8,F)):(0,a.kq)("",!0)])])))),128))])])],64)}var B={name:"GestionMembre",data(){return{membersList:[],name:"",accountId:this.$route.params.accountId}},methods:{deleteMember(e){this.isDeletable(e)&&(this.membersList=this.membersList.filter((t=>t.id!==e)),this.saveInLocalStorage())},addMember(){this.name&&(this.membersList.push({id:(0,O.Z)(),compteId:this.accountId,name:this.name,montant:0,depenseList:[]}),this.saveInLocalStorage(),this.resetForm())},saveInLocalStorage(){localStorage.setItem("membersList",JSON.stringify(this.membersList))},resetForm(){this.name=""},isDeletable(e){return 0==this.membersList.find((t=>t.id===e)).depenseList}},computed:{currentAccountMembersList(){return this.membersList.filter((e=>e.compteId===this.accountId))}},mounted(){localStorage.getItem("membersList")&&(this.membersList=JSON.parse(localStorage.getItem("membersList")))}};const P=(0,d.Z)(B,[["render",x]]);var T=P;const K={class:"nav justify-content-center"},q={class:"nav-item"},G={class:"nav-item"},$={class:"row"},E=(0,a._)("h2",null,"Ajouter une dépense",-1),R={class:"row"},Q=(0,a._)("label",{class:"form-label",for:"flibelle"},"Libelle",-1),X={class:"row"},ee=(0,a._)("label",{class:"form-label",for:"fmontant"},"Montant",-1),te={class:"row"},ne=(0,a._)("label",{class:"form-label",for:"fmember"},"Membre du compte",-1),le=["value"],ae={class:"row"},oe=["disabled"],se={class:"row"},re=(0,a._)("h2",null,"liste des dépenses ",-1),ie={class:"table table-striped"},ce=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Membre"),(0,a._)("th",null,"libelle"),(0,a._)("th",null,"Montant (en €)"),(0,a._)("th",null,"Date")])],-1);function ue(e,t,n,o,s,r){const i=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("ul",K,[(0,a._)("li",q,[(0,a.Wm)(i,{class:"nav-link",to:"/gestion-membre/"+s.accountId},{default:(0,a.w5)((()=>[(0,a.Uk)("membres")])),_:1},8,["to"])]),(0,a._)("li",G,[(0,a.Wm)(i,{class:"nav-link",to:"/compte/"+s.accountId},{default:(0,a.w5)((()=>[(0,a.Uk)("balance")])),_:1},8,["to"])])]),(0,a._)("div",$,[E,(0,a._)("div",R,[Q,(0,a.wy)((0,a._)("input",{class:"form-control",type:"texte",placeholder:"libelle de la dépense","onUpdate:modelValue":t[0]||(t[0]=e=>s.libelle=e)},null,512),[[l.nr,s.libelle]])]),(0,a._)("div",X,[ee,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.montant=e),id:"fmontant",type:"number",placeholder:"montant en euro (€)"},null,512),[[l.nr,s.montant]])]),(0,a._)("div",te,[ne,(0,a.wy)((0,a._)("select",{class:"form-control",name:"fmember",id:"fmember","onUpdate:modelValue":t[2]||(t[2]=e=>s.memberId=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.accountMembersList,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,h.zw)(e.name),9,le)))),128))],512),[[l.bM,s.memberId]])]),(0,a._)("div",ae,[(0,a._)("button",{class:"btn btn-primary",disabled:r.formValidator,onClick:t[3]||(t[3]=e=>r.saveDepense())},"Add depense",8,oe)])]),(0,a._)("div",se,[re,(0,a._)("table",ie,[ce,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.depenseList,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.depenseId},[(0,a._)("td",null,(0,h.zw)(r.getMemberName(e.memberId)),1),(0,a._)("td",null,(0,h.zw)(e.libelle),1),(0,a._)("td",null,(0,h.zw)(e.montant)+"€",1),(0,a._)("td",null,(0,h.zw)(e.date),1)])))),128))])])])],64)}var me={name:"depenseComponent",data(){return{depenseList:[],libelle:"",montant:0,memberId:"",accountId:this.$route.params.accountId}},methods:{getMemberName(e){return JSON.parse(localStorage.getItem("membersList")).find((t=>t.id===e))?.name},saveDepense(){const e={depenseId:(0,O.Z)(),accountId:this.accountId,libelle:this.libelle,memberId:this.memberId,montant:this.montant,date:new Date};this.depenseList.push(e),this.saveInLocalStorage("depensesList",this.depenseList),this.addDepenseToUser(e.depenseId,e.montant),this.resetForm(),this.updateAccountTotal(e.montant)},addDepenseToUser(e,t){const n=JSON.parse(localStorage.getItem("membersList")),l=n.find((e=>e.id===this.memberId));l.depenseList.push(e),l.montant+=t,this.saveInLocalStorage("membersList",n)},saveInLocalStorage(e,t){localStorage.setItem(e,JSON.stringify(t))},resetForm(){this.libelle="",this.montant=0,this.memberId=""},updateAccountTotal(e){const t=JSON.parse(localStorage.getItem("accountList")),n=t.find((e=>e.id===this.accountId));n.montant+=e,this.saveInLocalStorage("accountList",t)}},computed:{accountMembersList(){return localStorage.getItem("membersList")?JSON.parse(localStorage.getItem("membersList")).filter((e=>e.compteId===this.accountId)):[]},formValidator(){return!this.libelle||(0===this.montant||!this.memberId)}},mounted(){localStorage.getItem("depensesList")&&(this.depenseList=JSON.parse(localStorage.getItem("depensesList")))}};const de=(0,d.Z)(me,[["render",ue]]);var pe=de;const be={class:"nav justify-content-center"},he={class:"nav-item"},fe={class:"nav-item"},_e=(0,a._)("h2",null,"Balance du compte ",-1),ve={class:"row"},ge={class:"col"},we=(0,a._)("h3",null,"Balance des membres du compte",-1),Le={class:"row"},Ie={class:"table"},ke=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("td",null,"Nom"),(0,a._)("td",null,"balance (en €)")])],-1),ye={class:"table-success"},Se={class:"table-success"},De={class:"table-danger"},Me={class:"table-danger"};function Oe(e,t,n,l,o,s){const r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("ul",be,[(0,a._)("li",he,[(0,a.Wm)(r,{class:"nav-link",to:"/depense/"+o.account.id},{default:(0,a.w5)((()=>[(0,a.Uk)("depenses")])),_:1},8,["to"])]),(0,a._)("li",fe,[(0,a.Wm)(r,{class:"nav-link",to:"/gestion-membre/"+o.account.id},{default:(0,a.w5)((()=>[(0,a.Uk)("membres")])),_:1},8,["to"])])]),_e,(0,a._)("div",ve,[(0,a._)("p",ge,"total compte : "+(0,h.zw)(o.account.montant)+"€",1)]),we,(0,a._)("div",Le,[(0,a._)("table",Ie,[ke,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.membersList,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[s.calculateMemberBalance(e.id)>=0?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("td",ye,(0,h.zw)(e.name),1),(0,a._)("td",Se,(0,h.zw)(s.calculateMemberBalance(e.id))+"€",1)],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("td",De,(0,h.zw)(e.name),1),(0,a._)("td",Me,(0,h.zw)(s.calculateMemberBalance(e.id))+"€",1)],64))])))),128))])])])],64)}var ze={name:"balanceCompte",data(){return{account:{},membersList:[]}},methods:{calculateMemberBalance(e){const t=this.membersList.find((t=>t.id===e));return this.account.montant/this.membersList.length*-1+t.montant}},mounted(){localStorage.getItem("accountList")&&(this.account=JSON.parse(localStorage.getItem("accountList")).find((e=>e.id===this.$route.params.accountId))),localStorage.getItem("membersList")&&(this.membersList=JSON.parse(localStorage.getItem("membersList")).filter((e=>e.compteId===this.account.id)))}};const Ue=(0,d.Z)(ze,[["render",Oe]]);var je=Ue;const Ce=(0,a.uE)('<h2 class="text-center">Page d&#39;aide</h2><h3>Principe</h3><p> All will be one est une application de compte partagée. </p><h3>Création de compte</h3><p> Pour créer un compte, vous devrez renseigner un libelle et une description. Une fois le compte créé, cliquez sur le libelle du compte vous ménera sur la page de balance du compte </p><h3>Balance du groupe</h3><p> Sur la page de balance du compte, vous porez voir le montant du compte, et le montant du de chaque personne. </p><h3>Gestion des membres</h3><p> La page de gestion des membres vous permet de voir les membres du compte, en ajouter, ou retirer si ils n&#39;ont pas de dépenses à leur actif. </p><h3>Dépenses</h3><p> La page des dépenses vous permet d&#39;ajouter une dépense à un membre du groupe, et de voir les dépenses du compte </p>',11);function Ae(e,t,n,l,a,o){return Ce}var Ne={name:"helpComponent"};const He=(0,d.Z)(Ne,[["render",Ae]]);var Je=He;const Ye=(0,a._)("h2",null,"404 Not found",-1),Ve=(0,a._)("p",null,"Désolé, nous n'avons pas trouvé la ressource que vous avez demandé.",-1);function We(e,t,n,l,o,s){const r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[Ye,Ve,(0,a.Wm)(r,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("Retour à l'accueil")])),_:1})],64)}var Ze={name:"NotFound"};const Fe=(0,d.Z)(Ze,[["render",We]]);var xe=Fe,Be=n(2483);const Pe=[{name:"CreationCompte",path:"/",component:j},{name:"GestionMembre",path:"/gestion-membre/:accountId",component:T},{name:"DepenseComponent",path:"/depense/:accountId",component:pe},{name:"BalanceComponent",path:"/compte/:accountId",component:je},{name:"HelperComponent",path:"/help",component:Je},{name:"notFoundComponent",path:"/:pathMatch(.*)*",component:xe}],Te=(0,Be.p7)({history:(0,Be.PO)(),routes:Pe});var Ke=Te;(0,l.ri)(b).use(Ke).mount("#app")}},t={};function n(l){var a=t[l];if(void 0!==a)return a.exports;var o=t[l]={exports:{}};return e[l](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,l,a,o){if(!l){var s=1/0;for(u=0;u<e.length;u++){l=e[u][0],a=e[u][1],o=e[u][2];for(var r=!0,i=0;i<l.length;i++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](l[i])}))?l.splice(i--,1):(r=!1,o<s&&(s=o));if(r){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[l,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var a,o,s=l[0],r=l[1],i=l[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(i)var u=i(n)}for(t&&t(l);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},l=self["webpackChunkprojet_compte_partage"]=self["webpackChunkprojet_compte_partage"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[998],(function(){return n(3223)}));l=n.O(l)})();
//# sourceMappingURL=app.72cf30f1.js.map